<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Abstract class for logging to memory buffers — AppenderMemory • lgr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Abstract class for logging to memory buffers — AppenderMemory"><meta property="og:description" content="NOTE: This is an abstract class. Abstract classes cannot be instantiated
directly, but are exported for package developers that want to extend lgr -
for example by creating their own Appenders or Layouts.
Please refer to the see also section for actual implementations of this
class.
AppenderMemory is extended by Appenders that retain an in-memory event
buffer, such as AppenderBuffer and AppenderPushbullet from the
lgrExtra package."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lgr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.3.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/lgr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/s-fleck/lgr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Abstract class for logging to memory buffers</h1>
    <small class="dont-index">Source: <a href="https://github.com/s-fleck/lgr/blob/HEAD/R/Appender.R" class="external-link"><code>R/Appender.R</code></a></small>
    <div class="hidden name"><code>AppenderMemory.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><strong>NOTE</strong>: This is an <em>abstract class</em>. Abstract classes cannot be instantiated
directly, but are exported for package developers that want to extend lgr -
for example by creating their own <a href="Appender.html">Appenders</a> or <a href="Layout.html">Layouts</a>.
Please refer to the <em>see also</em> section for actual implementations of this
class.</p>
<p>AppenderMemory is extended by Appenders that retain an in-memory event
buffer, such as <a href="AppenderBuffer.html">AppenderBuffer</a> and <code>AppenderPushbullet</code> from the
<a href="https://github.com/s-fleck/lgrExtra" class="external-link">lgrExtra</a> package.</p>
    </div>


    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="LayoutFormat.html">LayoutFormat</a></p>
<p>Other abstract classes: 
<code><a href="AppenderTable.html">AppenderTable</a></code>,
<code><a href="Appender.html">Appender</a></code>,
<code><a href="Filterable.html">Filterable</a></code></p></div>
    </div>
    <div id="super-classes">
    <h2>Super classes</h2>
    <p><code><a href="Filterable.html">lgr::Filterable</a></code> -&gt; <code><a href="Appender.html">lgr::Appender</a></code> -&gt; <code>AppenderMemory</code></p>
    </div>
    <div id="active-bindings">
    <h2>Active bindings</h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>flush_on_exit</code></dt>
<dd><p>A <code>logical</code> scalar. Should the buffer be flushed if
the Appender is destroyed (e.g. because the <span style="R">R</span> session is terminated)?</p></dd>


<dt><code>flush_on_rotate</code></dt>
<dd><p>A <code>logical</code> scalar. Should the buffer be flushed when it is
rotated because <code>$buffer_size</code> is exceeded?</p></dd>


<dt><code>should_flush</code></dt>
<dd><p>A <code>function</code> with exactly one arguments: <code>event</code>.
<code>$append()</code> calls this function internally on the current <a href="LogEvent.html">LogEvent</a>
and flushes the buffer if it evaluates to <code>TRUE</code>.</p></dd>


<dt><code>buffer_size</code></dt>
<dd><p><code>integer</code> scalar <code>&gt;= 0</code>. Maximum number of <a href="LogEvent.html">LogEvents</a>
to buffer.</p></dd>


<dt><code>flush_threshold</code></dt>
<dd><p>A <code>numeric</code> or <code>character</code> threshold. <a href="LogEvent.html">LogEvents</a>
with a <a href="get_log_levels.html">log_level</a> equal to or lower than this threshold trigger
flushing the buffer.</p></dd>


<dt><code>buffer_events</code></dt>
<dd><p>A <code>list</code> of <a href="LogEvent.html">LogEvents</a>. Contents of the buffer.</p></dd>


<dt><code>buffer_events</code></dt>
<dd><p>A <code>data.frame</code>. Contents of the buffer converted
to a <code>data.frame</code>.</p></dd>


<dt><code>buffer_events</code></dt>
<dd><p>A <code>data.frame</code>. Contents of the buffer converted
to a <code>data.table</code>.</p></dd>


</dl><p></p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-AppenderMemory-new"><code>AppenderMemory$new()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-append"><code>AppenderMemory$append()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-flush"><code>AppenderMemory$flush()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-clear"><code>AppenderMemory$clear()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-set_buffer_size"><code>AppenderMemory$set_buffer_size()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-set_should_flush"><code>AppenderMemory$set_should_flush()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-set_flush_on_exit"><code>AppenderMemory$set_flush_on_exit()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-set_flush_on_rotate"><code>AppenderMemory$set_flush_on_rotate()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-set_flush_threshold"><code>AppenderMemory$set_flush_threshold()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-show"><code>AppenderMemory$show()</code></a></p></li>
<li><p><a href="#method-AppenderMemory-format"><code>AppenderMemory$format()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="add_filter"><a href="Filterable.html#method-add_filter"><code>lgr::Filterable$add_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="filter"><a href="Filterable.html#method-filter"><code>lgr::Filterable$filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="remove_filter"><a href="Filterable.html#method-remove_filter"><code>lgr::Filterable$remove_filter()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Filterable" data-id="set_filters"><a href="Filterable.html#method-set_filters"><code>lgr::Filterable$set_filters()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_layout"><a href="Appender.html#method-set_layout"><code>lgr::Appender$set_layout()</code></a></span></li>
<li><span class="pkg-link" data-pkg="lgr" data-topic="Appender" data-id="set_threshold"><a href="Appender.html#method-set_threshold"><code>lgr::Appender$set_threshold()</code></a></span></li>
</ul></details></p><hr><a id="method-AppenderMemory-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>

<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/AppenderMemory.html">AppenderMemory</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-AppenderMemory-append"></a><div class="section">
<h3 id="method-append-">Method <code><a href="https://rdrr.io/r/base/append.html" class="external-link">append()</a></code><a class="anchor" aria-label="anchor" href="#method-append-"></a></h3>

<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">append</span><span class="op">(</span><span class="va">event</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-AppenderMemory-flush"></a><div class="section">
<h3 id="method-flush-">Method <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">flush()</a></code><a class="anchor" aria-label="anchor" href="#method-flush-"></a></h3>
<p>Sends the buffer's contents to all attached Appenders and
then clears the Buffer</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">flush</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-AppenderMemory-clear"></a><div class="section">
<h3 id="method-clear-">Method <code>clear()</code><a class="anchor" aria-label="anchor" href="#method-clear-"></a></h3>
<p>Clears the buffer, discarding all buffered Events</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">clear</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-AppenderMemory-set_buffer_size"></a><div class="section">
<h3 id="method-set-buffer-size-">Method <code>set_buffer_size()</code><a class="anchor" aria-label="anchor" href="#method-set-buffer-size-"></a></h3>
<p>Set the maximum size of the buffer</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">set_buffer_size</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>x</code></dt>
<dd><p>an <code>integer</code> scalar <code>&gt;= 0</code>. Number of <a href="LogEvent.html">LogEvents</a> to buffer.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AppenderMemory-set_should_flush"></a><div class="section">
<h3 id="method-set-should-flush-">Method <code>set_should_flush()</code><a class="anchor" aria-label="anchor" href="#method-set-should-flush-"></a></h3>
<p>Set function that can trigger flushing the buffer</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">set_should_flush</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>x</code></dt>
<dd><p>A <code>function</code> with the single argument <code>event</code>. Setting <code>x</code> to
<code>NULL</code> is a shortcut for <code>function(event) FALSE</code>. See active bindings.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AppenderMemory-set_flush_on_exit"></a><div class="section">
<h3 id="method-set-flush-on-exit-">Method <code>set_flush_on_exit()</code><a class="anchor" aria-label="anchor" href="#method-set-flush-on-exit-"></a></h3>
<p>Should the buffer be flushed when the Appender is destroyed?</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">set_flush_on_exit</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>x</code></dt>
<dd><p>A <code>logical</code> scalar. See active bindings.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AppenderMemory-set_flush_on_rotate"></a><div class="section">
<h3 id="method-set-flush-on-rotate-">Method <code>set_flush_on_rotate()</code><a class="anchor" aria-label="anchor" href="#method-set-flush-on-rotate-"></a></h3>
<p>Should the buffer be flushed if <code>buffer_size</code> is exceeded?</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">set_flush_on_rotate</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>x</code></dt>
<dd><p>A <code>logical</code> scalar. See active bindings.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AppenderMemory-set_flush_threshold"></a><div class="section">
<h3 id="method-set-flush-threshold-">Method <code>set_flush_threshold()</code><a class="anchor" aria-label="anchor" href="#method-set-flush-threshold-"></a></h3>
<p>Set threshold that triggers flushing</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">set_flush_threshold</span><span class="op">(</span><span class="va">level</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>level</code></dt>
<dd><p>A <code>numeric</code> or <code>character</code> <a href="get_log_levels.html">threshold</a>. See
active bindings.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AppenderMemory-show"></a><div class="section">
<h3 id="method-show-">Method <code>show()</code><a class="anchor" aria-label="anchor" href="#method-show-"></a></h3>
<p>Display the contents of the log table. Relies on the
<code>$format_event</code> method of the <a href="Layout.html">Layout</a> attached to this Appender.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">show</span><span class="op">(</span>threshold <span class="op">=</span> <span class="cn">NA_integer_</span>, n <span class="op">=</span> <span class="fl">20L</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>threshold</code></dt>
<dd><p><code>character</code> or <code>integer</code> scalar. The minimum log level
that should be displayed.</p></dd>


<dt><code>n</code></dt>
<dd><p><code>integer</code> scalar. Show only the last <code>n</code> log entries that match
<code>threshold</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AppenderMemory-format"></a><div class="section">
<h3 id="method-format-">Method <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code><a class="anchor" aria-label="anchor" href="#method-format-"></a></h3>

<div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AppenderMemory</span><span class="op">$</span><span class="fu">format</span><span class="op">(</span>color <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Stefan Fleck.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

