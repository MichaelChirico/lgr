<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Format Log Events as Text via glue — LayoutGlue • lgr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Format Log Events as Text via glue — LayoutGlue"><meta property="og:description" content="Format a LogEvent as human readable text using glue::glue. The function
is evaluated in an environment in which it has access to all elements of
the LogEvent (see examples). This is more flexible than LayoutFormat,
but also more complex and slightly less performant."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lgr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.3.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/lgr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/s-fleck/lgr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format Log Events as Text via glue</h1>
    <small class="dont-index">Source: <a href="https://github.com/s-fleck/lgr/blob/HEAD/R/Layout.R" class="external-link"><code>R/Layout.R</code></a></small>
    <div class="hidden name"><code>LayoutGlue.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Format a <a href="LogEvent.html">LogEvent</a> as human readable text using <a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue</a>. The function
is evaluated in an environment in which it has access to all elements of
the <a href="LogEvent.html">LogEvent</a> (see examples). This is more flexible than <a href="LayoutFormat.html">LayoutFormat</a>,
but also more complex and slightly less performant.</p>
    </div>


    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>lgr exports a number of formatting utility functions that are
useful for layout glue: <code><a href="colorize_levels.html">colorize_levels()</a></code>, <code><a href="pad_right.html">pad_left()</a></code>, <code><a href="pad_right.html">pad_right()</a></code>.</p>
<p>Other Layouts: 
<code><a href="LayoutFormat.html">LayoutFormat</a></code>,
<code><a href="LayoutJson.html">LayoutJson</a></code>,
<code><a href="Layout.html">Layout</a></code></p></div>
    </div>
    <div id="super-class">
    <h2>Super class</h2>
    <p><code><a href="Layout.html">lgr::Layout</a></code> -&gt; <code>LayoutGlue</code></p>
    </div>
    <div id="active-bindings">
    <h2>Active bindings</h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>fmt</code></dt>
<dd><p>A string that will be interpreted by <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code></p></dd>


</dl><p></p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-new"><code>LayoutGlue$new()</code></a></p></li>
<li><p><a href="#method-format_event"><code>LayoutGlue$format_event()</code></a></p></li>
<li><p><a href="#method-set_fmt"><code>LayoutGlue$set_fmt()</code></a></p></li>
<li><p><a href="#method-set_colors"><code>LayoutGlue$set_colors()</code></a></p></li>
<li><p><a href="#method-toString"><code>LayoutGlue$toString()</code></a></p></li>
<li><p><a href="#method-clone"><code>LayoutGlue$clone()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul></ul></details></p><hr><a id="method-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>

<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/LayoutGlue.html">LayoutGlue</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  fmt <span class="op">=</span> <span class="st">"{pad_right(colorize_levels(toupper(level_name)), 5)} [{timestamp}] {msg}"</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-format_event"></a><div class="section">
<h3 id="method-format-event-">Method <code>format_event()</code><a class="anchor" aria-label="anchor" href="#method-format-event-"></a></h3>

<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">LayoutGlue</span><span class="op">$</span><span class="fu">format_event</span><span class="op">(</span><span class="va">event</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-set_fmt"></a><div class="section">
<h3 id="method-set-fmt-">Method <code>set_fmt()</code><a class="anchor" aria-label="anchor" href="#method-set-fmt-"></a></h3>

<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">LayoutGlue</span><span class="op">$</span><span class="fu">set_fmt</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-set_colors"></a><div class="section">
<h3 id="method-set-colors-">Method <code>set_colors()</code><a class="anchor" aria-label="anchor" href="#method-set-colors-"></a></h3>

<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">LayoutGlue</span><span class="op">$</span><span class="fu">set_colors</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-toString"></a><div class="section">
<h3 id="method-tostring-">Method <code><a href="https://rdrr.io/r/base/toString.html" class="external-link">toString()</a></code><a class="anchor" aria-label="anchor" href="#method-tostring-"></a></h3>

<div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">LayoutGlue</span><span class="op">$</span><span class="fu">toString</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">LayoutGlue</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">lg</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_logger.html">get_logger</a></span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span><span class="op">$</span></span>
<span class="r-in">  <span class="fu">set_appenders</span><span class="op">(</span><span class="va"><a href="AppenderConsole.html">AppenderConsole</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">$</span></span>
<span class="r-in">  <span class="fu">set_propagate</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">lg</span><span class="op">$</span><span class="va">appenders</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">set_layout</span><span class="op">(</span><span class="va">LayoutGlue</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">lg</span><span class="op">$</span><span class="fu">fatal</span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FATAL [2022-04-29 17:17:10] test</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># All fields of the LogEvent are available, even custom ones</span></span>
<span class="r-in"><span class="va">lg</span><span class="op">$</span><span class="va">appenders</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">layout</span><span class="op">$</span><span class="fu">set_fmt</span><span class="op">(</span></span>
<span class="r-in">  <span class="st">"{logger} {level_name}({level}) {caller}: {toupper(msg)} {{custom: {custom}}}"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="va">lg</span><span class="op">$</span><span class="fu">fatal</span><span class="op">(</span><span class="st">"test"</span>, custom <span class="op">=</span> <span class="st">"foobar"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> test fatal(100) eval: TEST {custom: foobar}</span>
<span class="r-in"><span class="va">lg</span><span class="op">$</span><span class="fu">config</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>  <span class="co"># reset logger config</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Logger&gt; [info] test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inherited appenders:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   console: &lt;AppenderConsole&gt; [all] -&gt; console</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Stefan Fleck.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

